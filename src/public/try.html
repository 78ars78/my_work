<!DOCTYPE html><html><head>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<style type="text/css">
.on { background-color: rgb(149, 221, 120); }
</style>
<script type="text/javascript">

$(document).ready(function (){
    $('input').click(function (){
       $('.item').removeClass('on');
        let fltr=filter();
        if (fltr=='') return;
        $('.item'+fltr).addClass('on');
    });
});
function filter() {
    let str='';
    $('input:checkbox:checked').each(function (){
        let typ=$(this).data('type');
        str=str+'[data-'+typ+'='+$(this).data(typ)+']';  });
    return str;
};

</script></head><body>
<!-- Чекбоксы -->

foo
    <input type="checkbox" data-type="f" data-f="f1" />
    <input type="checkbox" data-type="foo" data-foo="fo_it2" />
    <input type="checkbox" data-type="foo" data-foo="fo_it3" />
    ...
bar
    <input type="checkbox" data-type="bar" data-bar="bar_item1" />
    <input type="checkbox" data-type="bar" data-bar="bar_item2" />


<!-- Товары -->


    <div class="item" data-foo="fo_it3" data-f="f1" data-bar="bar_item1">

        foo_item1 bar_item1

    </div>
    <div class="item" data-foo="fo_it3" data-f="f1" data-bar="bar_item1">

        foo_item3 bar_item1

    </div>
    <div class="item" data-foo="fo_it3" data-bar="bar_item2">

        foo_item3 bar_item2

    </div>

    <div class="item" data-foo="fo_it2" data-bar="bar_item1">

        foo_item2 bar_item1

    </div>


    <div class="item" data-foo="fo_it2" data-bar="bar_item2">

        foo_item2 bar_item2

    </div>

    <div class="item" data-foo="fo_it2" data-bar="bar_item1">

        foo_item2 bar_item1

    </div>

    ...



</body>

</html>
